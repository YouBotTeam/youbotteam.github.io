<!DOCTYPE html>
<html class="ltr" dir="ltr" lang="it-IT">
  <head>
    <title>Home - Comune di Milano</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <div style="width: 100%; height: 100%">
      <img
        src="homepage_screenshot.png"
        style="max-width: 100%; max-height: 100%"
      />
    </div>
    <!-- https://github.com/botfront/rasa-webchat -->
    <div id="webchat"></div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/rasa-webchat@1.0.1/lib/index.min.js"></script> -->
    <!-- <link
      rel="stylesheet"
      type="text/css"
      href="https://weai.it/static/css/widget/custom.css"
    /> -->
    <!-- <script src="https://weai.it/static/js/widget/main.js"></script> -->
    <script src="https://weai.it/static/js/widget/index.js"></script>

    <link rel="stylesheet" type="text/css" href="./css/custom.css" />
    <script src="./js/main.js"></script>
    <!-- <script src="./js/index.js"></script> -->
  </body>
  <!-- <button id="button-custom">Cliccami</button>
  <button id="button-reset">Reset</button> -->

  <script>
    // Rasa Web Chat
    window.WebChat.default({
      selector: "#webchat",
      initPayload: "/welcome",
      customData: {
        language: "en",
        token:
          "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3ZWFpX3VzZXIiOnsidXNlcm5hbWUiOiJhZG1pbiIsInVzZXJfYWNjb3VudCI6W3siY2xpZW50Ijp7ImlkIjo1LCJuYW1lIjoidGVzdF9jb21wYW55In0sInByb2plY3QiOnsiaWQiOjYsIm5hbWUiOiJ0ZXN0X3Byb2plY3QiLCJyZXBvIjp7InVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Zb3VCb3RUZWFtL2RlbW8uZ2l0IiwiYWNjb3VudF9uYW1lIjoiWW91Qm90VGVhbSIsImJyYW5jaCI6WyJtYXN0ZXIiXX19LCJncm91cCI6eyJpZCI6MiwibmFtZSI6ImFkbWluIn0sInJvbGUiOlsiYWRtaW4iXSwic2VydmljZV9hY2NvdW50Ijp0cnVlLCJzdXBlcnVzZXIiOnRydWUsInVzZXJuYW1lIjoiYWRtaW4iLCJzdGF0dXMiOiJUQkQifV19LCJkYXRhIjp7fSwiaWF0IjoxNjM0ODA5NzgyLjc5NjgyMDR9.CR4cckYEsOloR6tA1oOQu0u6exgzyVA7w5HlohShf7o",
      }, // arbitrary custom data. Stay minimal as this will be added to the socket
      socketUrl: "https://cattolica.weai.it",
      socketPath: "/socket.io/",
      showFullScreenButton: true,
      title: "Assistente Virtuale",
      profileAvatar: "./images/favicon.ico",
      subtitle: "ARENA",
      hideWhenNotConnected: true,
      openAutomatically: true,

      showBadge: true,
      // elementTriggerOpenChat: {
      //   elementRef: document.getElementById("button-custom"),
      //   typeOfEvent: "click",
      // },
      elementTriggerResetChat: {
        elementRef: "reset-chat",
        typeOfEvent: "click",
      },
      inputTextFieldHint: "Scrivi la tua richiesta...",
      params: { storage: "session" }, // can be set to "local"  or "session". details in storage section.
    });
    ChatCustomization.configuration({
      clearCacheOnRefresh: true,
      autoFocusOnInput: true,
      enableClickOnImage: true,
      enableAutoComplete: true,
      token:
        "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ3ZWFpX3VzZXIiOnsidXNlcm5hbWUiOiJhZG1pbiIsInVzZXJfYWNjb3VudCI6W3siY2xpZW50Ijp7ImlkIjo1LCJuYW1lIjoidGVzdF9jb21wYW55In0sInByb2plY3QiOnsiaWQiOjYsIm5hbWUiOiJ0ZXN0X3Byb2plY3QiLCJyZXBvIjp7InVybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9Zb3VCb3RUZWFtL2RlbW8uZ2l0IiwiYWNjb3VudF9uYW1lIjoiWW91Qm90VGVhbSIsImJyYW5jaCI6WyJtYXN0ZXIiXX19LCJncm91cCI6eyJpZCI6MiwibmFtZSI6ImFkbWluIn0sInJvbGUiOlsiYWRtaW4iXSwic2VydmljZV9hY2NvdW50Ijp0cnVlLCJzdXBlcnVzZXIiOnRydWUsInVzZXJuYW1lIjoiYWRtaW4iLCJzdGF0dXMiOiJUQkQifV19LCJkYXRhIjp7fSwiaWF0IjoxNjM0ODA5NzgyLjc5NjgyMDR9.CR4cckYEsOloR6tA1oOQu0u6exgzyVA7w5HlohShf7o",
      baseUrl: "https://weai.it/",
      project_name: "Cattolica_bot",
      mainButtonDimension: {
        width: "5rem",
        height: "5rem",
      },
      section: {
        pillole: {
          enable: true,
          disableButton: false,
          enableFullScreen: false,
        },
        popup: {
          show: true,
          text: "Clicca sul bottone per inziare la chat",
        },
        feedback: {
          enable: true,
          title: "Lascia un feedback",
        },
        attachments: {
          show: false,
        },
        buttonMenu: {
          enable: true,
        },
        resetChat: {
          enable: true,
        },
      },
      color: {
        primary: "#4fc7b5",
        message: {
          user: {
            color: "#fff",
            backgroundColor: "#4fc7b5",
          },
          bot: {
            color: "#fff",
            backgroundColor: "#4fc7b5",
          },
        },
        sendButton: "#4fc7b5",
      },
    });
  </script>
</html>
